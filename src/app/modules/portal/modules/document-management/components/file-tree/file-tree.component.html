<div #treeContainer class="file-tree-container" [ngClass]="{ 'expanded': isExpanded }">
  <button class="expand-button" (click)="toggleExpand()">
    <mat-icon>{{ isExpanded ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>
  </button>
  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="custom-tree">
    <!-- Nodo para archivos -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
      <mat-icon class="file-icon">{{ getIcon(node) }}</mat-icon>
      <span class="node-text" (click)="selectFile(node)">{{ node.name }}</span>
    </mat-tree-node>

    <!-- Nodo para carpetas con hijos -->
    <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodeToggle matTreeNodePadding>
      <button class="folder-button" mat-icon-button matTreeNodeToggle>
        <mat-icon>{{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}</mat-icon>
      </button>
      <mat-icon class="folder-icon">{{ getIcon(node) }}</mat-icon>
      <span class="node-text">{{ node.name }}</span>
    </mat-tree-node>
  </mat-tree>
</div>
