<div class="comments-section">
  <div
    class="comment-list"
    *ngIf="commentsAndEvents && commentsAndEvents.length > 0"
  >
    <div class="comment-item" *ngFor="let item of commentsAndEvents">
      <!-- Display regular comments -->
      <div
        *ngIf="item.text"
        [class]="item.isOwnComment ? 'bubble own' : 'bubble'"
      >
        <p>{{ item.text }}</p>
        <span class="comment-date">{{ item.date | date : "short" }}</span>
      </div>

      <!-- Display events with a different style -->
      <div *ngIf="!item.text" class="event-bubble">
        <p>
          <strong>{{ item.action }}</strong> on <em>{{ item.object }}</em> with
          ID <em>{{ item.object_id }}</em>
        </p>
        <span class="event-date">{{ item.timestamp | date : "short" }}</span>
      </div>
    </div>
  </div>
  <div *ngIf="commentsAndEvents.length === 0">
    <p>No comments or events yet.</p>
  </div>

  <!-- Comment input area always at the bottom -->
  <div class="comment-input">
    <textarea
      [(ngModel)]="newComment"
      placeholder="Add a comment..."
    ></textarea>
    <button (click)="addComment()">
      {{ "comments:post_comment" | translate }}
    </button>
  </div>
</div>
